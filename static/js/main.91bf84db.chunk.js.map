{"version":3,"sources":["common/AuthUtils.ts","ui/Navbar/NavigationMenu.tsx","ui/Navbar/Navbar.tsx","PrivateRoute.tsx","PublicRoute.tsx","ports/HttpClient.ts","ports/UserAPIService.ts","domain/User.ts","common/HocUtils.tsx","common/Toaster.ts","ui/Register.tsx","ui/Login.tsx","ui/ActivityIcon.tsx","ui/Activities/ActivitySub.tsx","domain/ActivityType.ts","domain/Activity.ts","common/DateUtils.ts","ports/ActivityAPIService.ts","common/ValueUtils.ts","ui/Activities/NewActivityDialogue.tsx","ui/Activities/Activities.tsx","ui/Challenges/ChallengesSub.tsx","domain/ChallengeStatus.ts","domain/Challenge.ts","ports/ChallengeAPIService.ts","ui/Challenges/NewChallengeDialogue.tsx","ui/Challenges/Challenges.tsx","ui/Logout.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["isAuthTokenValid","authToken","localStorage","getItem","undefined","splitToken","split","decodedPayload","JSON","parse","atob","isAfter","Date","exp","date","year","month","day","time","hour","minute","removeItem","NavigationMenu","className","href","to","Component","Navbar","role","PrivateRoute","authPath","this","props","component","Route","PublicRoute","homePath","apiClient","axios","create","baseURL","headers","responseType","path","authorized","get","getAuthHeaderFromStorage","handleError","body","post","delete","error","isAxiosError","axiosError","console","response","Promise","reject","accessToken","Error","Authorization","username","password","HttpClient","then","res","id","user","data","score","creationDate","retrievedUser","resolve","token","setItem","withHistoryHook","history","useHistory","createToast","message","type","bulmaToast","animate","in","out","position","duration","state","event","setState","currentTarget","name","value","preventDefault","UserAPIService","registerUser","push","onSubmit","submitHandler","bind","htmlFor","onChange","changeHandler","minLength","required","placeholder","React","loginUser","responseMessage","log","ActivityIcon","activityType","typeText","Provider","data-testid","setIconForActivityType","ActivitySub","typeDescriptionPast","ActivityTypes","DRINK_WATER","typeDescription","WALKING","RUNNING","CYCLING","SWIMMING","CALISTHENICS","activityFromActivityResponseObject","activityResponse","toString","userID","dateToYMD","d","getDate","m","getMonth","getFullYear","eachDayOfWeekForDate","dayRange","firstDayOfWeek","startOfWeek","weekStartsOn","lastDayOfWeek","endOfWeek","currentDate","addDays","eachCalendarWeekRangeInMonthForDate","startOfMonth","endDate","endOfMonth","returnValue","isBefore","calendarWeek","getWeek","startingOfWeek","endingOfWeek","addWeeks","startDate","activities","map","activity","textType","isBasicStateValueValid","String","NewActivityDialogue","currentNewActivityFormSelection","newActivityDialogueButtonText","newActivityDialogueVisible","returnOptions","key","target","ActivityAPIService","saveNewActivityForUser","updateListFunction","handleCreateNewActivityButton","handleSelectDropDownChange","defaultValue","createDropdownOptionsForActivityTypes","onClick","handleShowNewActivityDialogueButton","Activities","calendarVisible","updateActivitiesInState","eachDayOfWeekCurrent","getAllActivitiesForUserBetweenDates","length","weekDay","index","filtered","filter","act","isSameDay","format","newDateSelection","Array","isArray","getYear","showCalendar","minDetail","showWeekNumbers","changeCurrentDate","createDayClustersForActivitiesInWeekForStateCurrentDate","ChallengeSub","challengeStatus","getColorCSSClassForChallengeStatus","statusText","timesAWeekCurrent","differenceInCalendarWeeks","expirationDate","timesAWeekGoal","ChallengeStatuses","IN_PROGRESS","statusDescription","SUCCEEDED","FAILED","challengeFromChallengeResponseObject","challengeResponse","Number","receivedChallenges","challenge","durationInWeeks","activityTypeText","weeksDuration","NewChallengeDialogue","currentNewChallengeFormSelections","weeklyGoal","amountOfWeeks","newChallengeDialogueButtonText","newChallengeDialogueVisible","ChallengeAPIService","saveNewChallengeForUser","handleSubmitNewChallengeCreationForm","handleNewChallengeActivityTypeChange","createDropwDownOptionsForNewChallengeActivityTypes","min","max","handleNewChallengeWeeklyGoalChange","handleNewChallengeAmountOfWeeksChange","handleShowNewChallengeDialogueButton","Challenges","coveredCalendarWeeks","challenges","updateChallengesInState","currentMonthsWeekStartsAndEnds","getAllChallengesForUserBetweenDates","calendarWeekObject","isSameWeek","createStartWeekClustersForChallengesInMonthForStateCurrentDate","Logout","logoutAccount","App","exact","Register","Login","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.91bf84db.chunk.js","sourcesContent":["import { isAfter } from 'date-fns';\r\n\r\ninterface JWTAccessTokenPayload {\r\n\tuser_id: string;\r\n\tusername: string;\r\n\tiat: string;\r\n\texp: JWTDateTime;\r\n}\r\n\r\ninterface JWTDateTime {\r\n\tdate: JWTDate;\r\n\ttime: JWTTime;\r\n}\r\ninterface JWTDate {\r\n\tyear: number;\r\n\tmonth: number;\r\n\tday: number;\r\n}\r\ninterface JWTTime {\r\n\thour: number;\r\n\tminute: number;\r\n\tsecond: number;\r\n\tnano: number;\r\n}\r\n\r\nexport function isAuthTokenValid(): boolean {\r\n\tconst authToken = localStorage.getItem('accessToken');\r\n\r\n\tif (authToken === undefined || authToken == null) return false; //no token found\r\n\r\n\tconst splitToken = authToken.split('.');\r\n\tconst decodedPayload = JSON.parse(\r\n\t\tatob(splitToken[1])\r\n\t) as JWTAccessTokenPayload;\r\n\r\n\tif (\r\n\t\tisAfter(\r\n\t\t\tnew Date(),\r\n\t\t\tnew Date(\r\n\t\t\t\tdecodedPayload.exp.date.year,\r\n\t\t\t\tdecodedPayload.exp.date.month,\r\n\t\t\t\tdecodedPayload.exp.date.day,\r\n\t\t\t\tdecodedPayload.exp.time.hour,\r\n\t\t\t\tdecodedPayload.exp.time.minute\r\n\t\t\t)\r\n\t\t)\r\n\t) {\r\n\t\tlocalStorage.removeItem('accessToken');\r\n\t\treturn false; //token has expired\r\n\t}\r\n\r\n\treturn true; //token is valid\r\n}\r\n","import { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass NavigationMenu extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='navbar-item has-dropdown is-hoverable'>\r\n\t\t\t\t<a className='navbar-link' href='#/'>\r\n\t\t\t\t\tMenu\r\n\t\t\t\t</a>\r\n\r\n\t\t\t\t<div className='navbar-dropdown'>\r\n\t\t\t\t\t<Link to='/' className='navbar-item'>\r\n\t\t\t\t\t\tActivities\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link to='/challenges' className='navbar-item'>\r\n\t\t\t\t\t\tChallenges\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link to='/' className='navbar-item is-hidden'>\r\n\t\t\t\t\t\tAccount\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<hr className='navbar-divider' />\r\n\t\t\t\t\t<Link to='/logout' className='navbar-item'>\r\n\t\t\t\t\t\tLogout\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default NavigationMenu;\r\n","import { Component } from 'react';\r\nimport NavigationMenu from './NavigationMenu';\r\n\r\nclass Navbar extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<nav className='navbar' role='navigation'>\r\n\t\t\t\t<div className='navbar-brand'>\r\n\t\t\t\t\t<NavigationMenu />\r\n\t\t\t\t</div>\r\n\t\t\t</nav>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Navbar;\r\n","import { Redirect, Route } from 'react-router';\r\nimport { isAuthTokenValid } from './common/AuthUtils';\r\nimport Navbar from './ui/Navbar/Navbar';\r\n\r\nclass PrivateRoute extends Route {\r\n\tprivate authPath: string = '/login';\r\n\r\n\trender() {\r\n\t\tif (isAuthTokenValid()) {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Navbar />\r\n\t\t\t\t\t<Route {...this.props} />\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tconst routeComponent = () => <Redirect to={this.authPath} />;\r\n\t\t\treturn <Route {...this.props} component={routeComponent} />;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import { Redirect, Route } from 'react-router';\r\nimport { isAuthTokenValid } from './common/AuthUtils';\r\n\r\nclass PublicRoute extends Route{\r\n\tprivate homePath = '/';\r\n\r\n\trender() {\r\n\t\tif (isAuthTokenValid()) {\r\n\t\t\tconst routeComponent = () => <Redirect to={this.homePath} />;\r\n\t\t\treturn (\r\n\t\t\t\t<Route\r\n\t\t\t\t\t{...this.props}\r\n\t\t\t\t\tcomponent={routeComponent}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn <Route {...this.props} />;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default PublicRoute;\r\n","import axios, { AxiosError, AxiosInstance, AxiosResponse } from 'axios';\r\n\r\nclass HttpClient {\r\n\tprivate apiClient: AxiosInstance = axios.create({\r\n\t\tbaseURL: 'http://localhost:8080/api',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t},\r\n\t\tresponseType: 'json',\r\n\t});\r\n\r\n\tpublic async get(\r\n\t\tpath: string,\r\n\t\tauthorized: boolean = true\r\n\t): Promise<AxiosResponse> {\r\n\t\ttry {\r\n\t\t\treturn await this.apiClient.get(\r\n\t\t\t\tpath,\r\n\t\t\t\tauthorized ? { headers: this.getAuthHeaderFromStorage() } : {}\r\n\t\t\t);\r\n\t\t} catch (err) {return this.handleError(err)}\r\n\t}\r\n\r\n\tpublic async post(\r\n\t\tpath: string,\r\n\t\tauthorized: boolean = true,\r\n\t\tbody: Object\r\n\t): Promise<AxiosResponse> {\r\n\t\ttry {\r\n\t\t\treturn await this.apiClient.post(\r\n\t\t\t\tpath,\r\n\t\t\t\tbody,\r\n\t\t\t\tauthorized ? { headers: this.getAuthHeaderFromStorage() } : {}\r\n\t\t\t);\r\n\t\t} catch (err) {return this.handleError(err)}\r\n\t}\r\n\r\n\tpublic async delete(path: string): Promise<AxiosResponse> {\r\n\t\ttry {\r\n\t\t\treturn await this.apiClient.delete(path, {\r\n\t\t\t\theaders: this.getAuthHeaderFromStorage(),\r\n\t\t\t});\r\n\t\t} catch (err) {return this.handleError(err)}\r\n\t}\r\n\r\n\tprivate handleError(error: any): Promise<any> {\r\n\t\tif (axios.isAxiosError(error)) {\r\n\t\t\tlet axiosError: AxiosError<any> = error as AxiosError<any>;\r\n\t\t\tconsole.error(axiosError.response);\r\n\t\t} else {\r\n\t\t\tconsole.error(error);\r\n\t\t}\r\n\t\r\n\t\treturn Promise.reject(error);\r\n\t}\r\n\t\r\n\tprivate getAuthHeaderFromStorage(): { Authorization: string } {\r\n\t\tconst authHeaderPrefix = 'Bearer ';\r\n\t\tconst accessToken = localStorage.getItem('accessToken');\r\n\t\r\n\t\tif (accessToken === undefined || accessToken == null) {\r\n\t\t\tthrow new Error('No Auth header found in localStorage');\r\n\t\t} else {\r\n\t\t\treturn { Authorization: authHeaderPrefix + accessToken };\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default new HttpClient();\r\n","import HttpClient from './HttpClient';\r\nimport {User, UserResponse, userFromUserResponseObject} from '../domain/User';\r\n\r\nclass UserAPIService {\r\n\tpublic async registerUser(\r\n\t\tusername: String,\r\n\t\tpassword: String\r\n\t): Promise<User> {\r\n\t\ttry {\r\n\t\t\tconst retrievedUser = await HttpClient.post('/users', false, {\r\n\t\t\t\tusername: username,\r\n\t\t\t\tpassword: password,\r\n\t\t\t}).then((res) => {\r\n\t\t\t\treturn userFromUserResponseObject(res.data as UserResponse);\r\n\t\t\t});\r\n\r\n\t\t\treturn Promise.resolve(retrievedUser);\r\n\t\t} catch (err) {\r\n\t\t\treturn Promise.reject(err);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async loginUser(\r\n\t\tusername: String,\r\n\t\tpassword: String\r\n\t): Promise<{token: string}> {\r\n\t\ttry {\r\n\t\t\tconst response = await HttpClient.post('/tokens', false, {\r\n\t\t\t\tusername: username,\r\n\t\t\t\tpassword: password,\r\n\t\t\t});\r\n\r\n\t\t\tconst token = response.data['token'];\r\n\t\t\tlocalStorage.setItem('accessToken', token);\r\n\r\n\t\t\treturn Promise.resolve(response.data);\r\n\t\t} catch (err) {\r\n\t\t\treturn Promise.reject(err);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default new UserAPIService();\r\n","export interface User {\r\n\treadonly id: string;\r\n\treadonly username: string;\r\n\treadonly score: string;\r\n\treadonly creationDate: Date;\r\n}\r\n\r\nexport interface UserResponse {\r\n\treadonly id: string;\r\n\treadonly username: string;\r\n\treadonly score: string;\r\n\treadonly creationDate: Date;\r\n}\r\n\r\nexport function userFromUserResponseObject(user: UserResponse): User {\r\n\treturn {\r\n\t\tid: user.id,\r\n\t\tusername: user.username,\r\n\t\tscore: user.score,\r\n\t\tcreationDate: new Date(user.creationDate)\r\n\t} as User\r\n}\r\n","import { useHistory } from \"react-router-dom\";\r\n\r\nexport const withHistoryHook = (Component: any) => {\r\n\treturn (props: any) => {\r\n\t\tconst history = useHistory();\r\n\r\n\t\treturn <Component history={history} {...props} />;\r\n\t};\r\n};","import * as bulmaToast from 'bulma-toast';\r\nimport 'animate.css';\r\n\r\nexport function createToast(message: string, type: bulmaToast.ToastType) {\r\n\tbulmaToast.toast({\r\n\t\tmessage: message,\r\n\t\ttype: type,\r\n\t\tanimate: { in: 'fadeIn', out: 'fadeOut' },\r\n\t\tposition: 'top-right',\r\n\t\tduration: 4000,\r\n\t});\r\n}\r\n","import React from 'react';\r\nimport { Link, RouteComponentProps } from 'react-router-dom';\r\nimport UserAPIService from '../ports/UserAPIService';\r\nimport { withHistoryHook } from '../common/HocUtils';\r\nimport { createToast } from '../common/Toaster';\r\n\r\ninterface RegisterProps {\r\n\thistory: RouteComponentProps['history'];\r\n}\r\n\r\nclass Register extends React.Component<RegisterProps> {\r\n\tstate = {\r\n\t\tusername: '',\r\n\t\tpassword: '',\r\n\t};\r\n\r\n\tprivate changeHandler(event: React.FormEvent<HTMLInputElement>): void {\r\n\t\tthis.setState({\r\n\t\t\t[event.currentTarget.name]: event.currentTarget.value,\r\n\t\t});\r\n\t}\r\n\r\n\tprivate submitHandler(event: React.SyntheticEvent): void {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tUserAPIService.registerUser(\r\n\t\t\tthis.state.username,\r\n\t\t\tthis.state.password\r\n\t\t).then((user) => {\r\n\t\t\tif (user !== undefined && user.id !== undefined) {\r\n\t\t\t\tcreateToast('Successfully Registered', 'is-success');\r\n\r\n\t\t\t\t//redirect to login page on successful register\r\n\t\t\t\tthis.props.history.push('/login');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='hero is-fullpage is-clipped'>\r\n\t\t\t\t<div className='hero-body columns is-vcentered is-centered'>\r\n\t\t\t\t\t<div className='column is-one-quarter'>\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tclassName='box'\r\n\t\t\t\t\t\t\tonSubmit={this.submitHandler.bind(this)}>\r\n\t\t\t\t\t\t\t<p className='title is-4'>Register</p>\r\n\t\t\t\t\t\t\t<div className='field'>\r\n\t\t\t\t\t\t\t\t<label className='label' htmlFor='username'>\r\n\t\t\t\t\t\t\t\t\tUsername:\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<div className='control'>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclassName='input'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tname='username'\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.changeHandler.bind(this)}\r\n\t\t\t\t\t\t\t\t\t\tminLength={4}\r\n\t\t\t\t\t\t\t\t\t\trequired={true}></input>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className='field'>\r\n\t\t\t\t\t\t\t\t<label className='label' htmlFor='password'>\r\n\t\t\t\t\t\t\t\t\tPassword:\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<div className='control'>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclassName='input'\r\n\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='min. 8 characters'\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.changeHandler.bind(this)}\r\n\t\t\t\t\t\t\t\t\t\tminLength={8}\r\n\t\t\t\t\t\t\t\t\t\trequired={true}></input>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className='level'>\r\n\t\t\t\t\t\t\t\t\t<div className='level-left'>\r\n\t\t\t\t\t\t\t\t\t\t<p className='subtitle is-6 mt-5'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to='/login'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAlready have an Account? Login!\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclassName='level-right button is-link mt-5'\r\n\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\tvalue='Submit'></input>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withHistoryHook(Register);\r\n","import React, { Component } from 'react';\r\nimport { Link, RouteComponentProps } from 'react-router-dom';\r\nimport UserAPIService from '../ports/UserAPIService';\r\nimport { withHistoryHook } from '../common/HocUtils';\r\nimport { createToast } from '../common/Toaster';\r\n\r\ninterface LoginProps {\r\n\thistory: RouteComponentProps['history'];\r\n}\r\n\r\nclass Login extends Component<LoginProps> {\r\n\tstate = {\r\n\t\tusername: '',\r\n\t\tpassword: '',\r\n\t};\r\n\r\n\tprivate changeHandler(event: React.FormEvent<HTMLInputElement>): void {\r\n\t\tthis.setState({\r\n\t\t\t[event.currentTarget.name]: event.currentTarget.value,\r\n\t\t});\r\n\t}\r\n\r\n\tprivate submitHandler(event: React.SyntheticEvent): void {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tUserAPIService.loginUser(this.state.username, this.state.password).then(\r\n\t\t\t(responseMessage) => {\r\n\t\t\t\tif (responseMessage !== undefined) {\r\n\t\t\t\t\tconsole.log(responseMessage); //TODO toast?\r\n\r\n\t\t\t\t\tif (responseMessage.token !== '') {\r\n\t\t\t\t\t\tcreateToast('Successfully Logged in', 'is-success');\r\n\r\n\t\t\t\t\t\t//redirect on successful login\r\n\t\t\t\t\t\tthis.props.history.push('/');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='hero is-fullpage is-clipped'>\r\n\t\t\t\t<div className='hero-body columns is-vcentered is-centered'>\r\n\t\t\t\t\t<div className='column is-one-quarter'>\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tclassName='box'\r\n\t\t\t\t\t\t\tonSubmit={this.submitHandler.bind(this)}>\r\n\t\t\t\t\t\t\t<p className='title is-4'>Login</p>\r\n\t\t\t\t\t\t\t<div className='field'>\r\n\t\t\t\t\t\t\t\t<label className='label' htmlFor='username'>\r\n\t\t\t\t\t\t\t\t\tUsername:\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<div className='control'>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclassName='input'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tname='username'\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.changeHandler.bind(this)}\r\n\t\t\t\t\t\t\t\t\t\tminLength={4}\r\n\t\t\t\t\t\t\t\t\t\trequired={true}></input>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className='field'>\r\n\t\t\t\t\t\t\t\t<label className='label' htmlFor='password'>\r\n\t\t\t\t\t\t\t\t\tPassword:\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<div className='control'>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclassName='input'\r\n\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.changeHandler.bind(this)}\r\n\t\t\t\t\t\t\t\t\t\tminLength={8}\r\n\t\t\t\t\t\t\t\t\t\trequired={true}></input>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className='level'>\r\n\t\t\t\t\t\t\t\t<div className='level-left'>\r\n\t\t\t\t\t\t\t\t\t<p className='subtitle is-6 mt-5'>\r\n\t\t\t\t\t\t\t\t\t\t<Link to='/register'>\r\n\t\t\t\t\t\t\t\t\t\t\tNew? Register Here!\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclassName='level-right button is-link mt-5'\r\n\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\tvalue='Submit'></input>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withHistoryHook(Login);\r\n","import {\r\n\tFaSwimmer,\r\n\tFaBiking,\r\n\tFaWalking,\r\n\tFaRunning,\r\n\tFaDumbbell,\r\n} from 'react-icons/fa';\r\nimport { CgGlassAlt } from 'react-icons/cg';\r\nimport { VscError } from 'react-icons/vsc';\r\n\r\nimport { ActivityType } from '../domain/ActivityType';\r\nimport { Component } from 'react';\r\nimport { IconContext } from 'react-icons/lib';\r\n\r\nclass ActivityIcon extends Component<ActivityType> {\r\n\tprivate setIconForActivityType(activityType: ActivityType) {\r\n\t\tswitch (activityType.typeText) {\r\n\t\t\tcase 'DRINK_WATER':\r\n\t\t\t\treturn <CgGlassAlt />;\r\n\t\t\tcase 'WALKING':\r\n\t\t\t\treturn <FaWalking />;\r\n\t\t\tcase 'RUNNING':\r\n\t\t\t\treturn <FaRunning />;\r\n\t\t\tcase 'CYCLING':\r\n\t\t\t\treturn <FaBiking />;\r\n\t\t\tcase 'SWIMMING':\r\n\t\t\t\treturn <FaSwimmer />;\r\n\t\t\tcase 'CALISTHENICS':\r\n\t\t\t\treturn <FaDumbbell />;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\treturn <VscError />;\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n            <IconContext.Provider value={{ className: 'icon is-medium' }}>\r\n                <div data-testid='activity_entry_icon'>\r\n\t\t\t\t    {this.setIconForActivityType(this.props)}\r\n\t\t\t    </div>\r\n            </IconContext.Provider>\r\n\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ActivityIcon;\r\n","import { Component } from 'react';\r\nimport { Activity } from '../../domain/Activity';\r\nimport ActivityIcon from '../ActivityIcon';\r\n\r\nclass ActivitySub extends Component<Activity> {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='field row' data-testid='activity_entry'>\r\n\t\t\t\t<div className='box level is-grouped'>\r\n\t\t\t\t\t<div className='level-left'>\r\n\t\t\t\t\t\t<ActivityIcon {...this.props.activityType} />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<p className='title is-5 ml-3' data-testid='activity_entry_type'>\r\n\t\t\t\t\t\t\t{this.props.activityType.typeDescriptionPast}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t<button className='level-right button is-danger'>-</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ActivitySub;\r\n","export interface ActivityType {\r\n\treadonly typeText: string;\r\n\treadonly typeDescription: string;\r\n\treadonly typeDescriptionPast: string;\r\n}\r\n\r\nexport const ActivityTypes: { readonly [key: string]: ActivityType } = {\r\n\tDRINK_WATER: {\r\n\t\ttypeText: 'DRINK_WATER',\r\n\t\ttypeDescription: 'Drink Water',\r\n\t\ttypeDescriptionPast: 'Drank Water',\r\n\t},\r\n\tWALKING: {\r\n\t\ttypeText: 'WALKING',\r\n\t\ttypeDescription: 'Walking',\r\n\t\ttypeDescriptionPast: 'Walked',\r\n\t},\r\n\tRUNNING: {\r\n\t\ttypeText: 'RUNNING',\r\n\t\ttypeDescription: 'Running',\r\n\t\ttypeDescriptionPast: 'Ran',\r\n\t},\r\n\tCYCLING: {\r\n\t\ttypeText: 'CYCLING',\r\n\t\ttypeDescription: 'Cycling',\r\n\t\ttypeDescriptionPast: 'Cycled',\r\n\t},\r\n\tSWIMMING: {\r\n\t\ttypeText: 'SWIMMING',\r\n\t\ttypeDescription: 'Swimming',\r\n\t\ttypeDescriptionPast: 'Swam',\r\n\t},\r\n\tCALISTHENICS: {\r\n\t\ttypeText: 'CALISTHENICS',\r\n\t\ttypeDescription: 'Calisthenics',\r\n\t\ttypeDescriptionPast: 'Done Calisthenics',\r\n\t},\r\n};\r\n\r\nexport default ActivityTypes","import { ActivityType, ActivityTypes } from './ActivityType';\r\n\r\nexport interface Activity {\r\n\treadonly id: string;\r\n\treadonly activityType: ActivityType;\r\n\treadonly creationDate: Date;\r\n\treadonly userID: string;\r\n}\r\n\r\nexport interface ActivityResponse {\r\n\treadonly id: string;\r\n\treadonly activityType: string;\r\n\treadonly creationDate: string;\r\n\treadonly userID: string;\r\n}\r\n\r\nexport function activityFromActivityResponseObject(activityResponse: ActivityResponse): Activity {\r\n\treturn {\r\n\t\tid: activityResponse.id,\r\n\t\tactivityType: ActivityTypes[activityResponse.activityType.toString()],\r\n\t\tcreationDate: new Date(activityResponse.creationDate.toString()),\r\n\t\tuserID: activityResponse.userID,\r\n\t} as Activity;\r\n}\r\n","import {\r\n\taddDays,\r\n\taddWeeks,\r\n\tendOfMonth,\r\n\tendOfWeek,\r\n\tgetWeek,\r\n\tisBefore,\r\n\tstartOfMonth,\r\n\tstartOfWeek,\r\n} from 'date-fns';\r\n\r\nexport function dateToYMD(date: Date) {\r\n\tvar d = date.getDate();\r\n\tvar m = date.getMonth() + 1; //Month from 0 to 11\r\n\tvar y = date.getFullYear();\r\n\treturn '' + y + '-' + (m <= 9 ? '0' + m : m) + '-' + (d <= 9 ? '0' + d : d);\r\n}\r\n\r\nexport function eachDayOfWeekForDate(date: Date): Date[] {\r\n\tlet dayRange: Date[] = [];\r\n\r\n\tconst firstDayOfWeek = startOfWeek(date, { weekStartsOn: 1 });\r\n\tconst lastDayOfWeek = endOfWeek(date, { weekStartsOn: 1 });\r\n\r\n\tlet currentDate = firstDayOfWeek;\r\n\r\n\twhile (currentDate < lastDayOfWeek) {\r\n\t\tdayRange.push(currentDate);\r\n\t\tcurrentDate = addDays(currentDate, 1);\r\n\t}\r\n\r\n\treturn dayRange;\r\n}\r\n\r\ninterface CalendarWeekStartEnd {\r\n\treadonly calendarWeek: number;\r\n\treadonly startingOfWeek: Date;\r\n\treadonly endingOfWeek: Date;\r\n}\r\n\r\nexport function eachCalendarWeekRangeInMonthForDate(\r\n\tdate: Date\r\n): CalendarWeekStartEnd[] {\r\n\tlet currentDate = startOfMonth(date);\r\n\tconst endDate = endOfMonth(date);\r\n\r\n\tlet returnValue: CalendarWeekStartEnd[] = [];\r\n\r\n\twhile (isBefore(currentDate, endDate)) {\r\n\t\treturnValue.push({\r\n\t\t\tcalendarWeek: getWeek(currentDate, { weekStartsOn: 1 }),\r\n\t\t\tstartingOfWeek: startOfWeek(currentDate, { weekStartsOn: 1 }),\r\n\t\t\tendingOfWeek: endOfWeek(currentDate, { weekStartsOn: 1 }),\r\n\t\t});\r\n\r\n\t\tcurrentDate = addWeeks(currentDate, 1);\r\n\t}\r\n\r\n\treturn returnValue;\r\n}\r\n","import HttpClient from './HttpClient';\r\nimport {\r\n\tActivity,\r\n\tActivityResponse,\r\n\tactivityFromActivityResponseObject,\r\n} from '../domain/Activity';\r\nimport { dateToYMD } from '../common/DateUtils';\r\n\r\nclass ActivityAPIService {\r\n\tpublic async getAllActivitiesForUserBetweenDates(\r\n\t\tstartDate: Date,\r\n\t\tendDate: Date\r\n\t): Promise<Activity[]> {\r\n\t\ttry {\r\n\t\t\tconst response = await HttpClient.get(\r\n\t\t\t\t`/activities?startDate=${dateToYMD(\r\n\t\t\t\t\tstartDate\r\n\t\t\t\t)}&endDate=${dateToYMD(endDate)}`\r\n\t\t\t);\r\n\r\n\t\t\tconst activities = response.data.map(\r\n\t\t\t\t(activity: ActivityResponse) => {\r\n\t\t\t\t\treturn activityFromActivityResponseObject(activity);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\treturn Promise.resolve(activities);\r\n\t\t} catch (err) {\r\n\t\t\treturn Promise.reject(err);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async saveNewActivityForUser(\r\n\t\tactivityType: string,\r\n\t\tdate: Date\r\n\t): Promise<Activity> {\r\n\t\ttry {\r\n\t\t\tconst response = await HttpClient.post('/activities', true, {\r\n\t\t\t\ttextType: activityType,\r\n\t\t\t\tcreationDate: dateToYMD(date),\r\n\t\t\t});\r\n\r\n\t\t\tconst activity = activityFromActivityResponseObject(response.data);\r\n\r\n\t\t\treturn Promise.resolve(activity);\r\n\t\t} catch (err) {\r\n\t\t\treturn Promise.reject(err);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default new ActivityAPIService();\r\n","export function isBasicStateValueValid(value: string | number) {\r\n\tif (value === undefined) return false;\r\n\tif (value === null) return false;\r\n\tif (String(value) === '') return false;\r\n\tif (String(value) === 'DEFAULT') return false;\r\n\r\n\tif (typeof value === 'number') {\r\n\t\tif (value === 0) return false;\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n","import React, { Component } from 'react';\r\nimport ActivityAPIService from '../../ports/ActivityAPIService';\r\nimport { ActivityTypes } from '../../domain/ActivityType';\r\nimport { isBasicStateValueValid } from '../../common/ValueUtils';\r\n\r\ninterface NewActivityDialogueProps {\r\n\tcurrentDate: Date;\r\n\tupdateListFunction: () => void;\r\n}\r\n\r\nclass NewActivityDialogue extends Component<NewActivityDialogueProps> {\r\n\tstate = {\r\n\t\tcurrentNewActivityFormSelection: '',\r\n\t\tnewActivityDialogueButtonText: '+',\r\n\t\tnewActivityDialogueVisible: false,\r\n\t};\r\n\r\n\tprivate createDropdownOptionsForActivityTypes() {\r\n\t\tlet returnOptions = [];\r\n\t\tfor (const key in ActivityTypes) {\r\n\t\t\treturnOptions.push(\r\n\t\t\t\t<option\r\n\t\t\t\t\tkey={`type_${ActivityTypes[key].typeText}`}\r\n\t\t\t\t\tdata-testid='activity_add_dialogue_type_dropdown_option'\r\n\t\t\t\t\tvalue={ActivityTypes[key].typeText}>\r\n\t\t\t\t\t{ActivityTypes[key].typeDescription}\r\n\t\t\t\t</option>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn returnOptions;\r\n\t}\r\n\r\n\tprivate handleSelectDropDownChange(\r\n\t\tevent: React.ChangeEvent<HTMLSelectElement>\r\n\t) {\r\n\t\tthis.setState({\r\n\t\t\tcurrentNewActivityFormSelection: event.target.value,\r\n\t\t});\r\n\t}\r\n\r\n\tprivate async handleCreateNewActivityButton(\r\n\t\tevent: React.FormEvent<HTMLFormElement>\r\n\t) {\r\n\t\tevent.preventDefault();\r\n\t\tconsole.log(this.state.currentNewActivityFormSelection)\r\n\t\tif (\r\n\t\t\t!isBasicStateValueValid(this.state.currentNewActivityFormSelection)\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tawait ActivityAPIService.saveNewActivityForUser(\r\n\t\t\tthis.state.currentNewActivityFormSelection,\r\n\t\t\tthis.props.currentDate\r\n\t\t);\r\n\r\n\t\tthis.props.updateListFunction();\r\n\t}\r\n\r\n\tprivate handleShowNewActivityDialogueButton(event: React.SyntheticEvent) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif (this.state.newActivityDialogueVisible) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnewActivityDialogueVisible: false,\r\n\t\t\t\tnewActivityDialogueButtonText: '+',\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnewActivityDialogueVisible: true,\r\n\t\t\t\tnewActivityDialogueButtonText: 'x',\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='is-flex is-position-fixed-bottom-right is-justify-content-flex-end is-flex-direction-row'>\r\n\t\t\t\t<div\r\n\t\t\t\t\tdata-testid='activity_add_flexparent'\r\n\t\t\t\t\tclassName={`is-align-self-flex-end mb-5 ${\r\n\t\t\t\t\t\tthis.state.newActivityDialogueVisible\r\n\t\t\t\t\t\t\t? ''\r\n\t\t\t\t\t\t\t: 'is-invisible'\r\n\t\t\t\t\t}`}>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tclassName='box'\r\n\t\t\t\t\t\tdata-testid='activity_add_dialogue'\r\n\t\t\t\t\t\tonSubmit={this.handleCreateNewActivityButton.bind(\r\n\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t)}>\r\n\t\t\t\t\t\t<p className='title is-5'>New Activity</p>\r\n\t\t\t\t\t\t<div className='control select'>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tname='activity_type'\r\n\t\t\t\t\t\t\t\tdata-testid='activity_add_dialogue_type_dropdown'\r\n\t\t\t\t\t\t\t\tonChange={this.handleSelectDropDownChange.bind(\r\n\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\tdefaultValue='DEFAULT'>\r\n\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\tdata-testid='activity_add_dialogue_type_dropdown_option'\r\n\t\t\t\t\t\t\t\t\tkey='type_DEFAULT'\r\n\t\t\t\t\t\t\t\t\tvalue='DEFAULT'>\r\n\t\t\t\t\t\t\t\t\tSelect an activity type...\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t{this.createDropdownOptionsForActivityTypes()}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName='button is-link'\r\n\t\t\t\t\t\t\tdata-testid='activity_add_dialogue_submit_button'\r\n\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\tvalue='Submit'></input>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={this.handleShowNewActivityDialogueButton.bind(\r\n\t\t\t\t\t\tthis\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tdata-testid='activity_add_button'\r\n\t\t\t\t\tclassName='button is-dark is-medium is-align-self-flex-end mb-5 mr-5 ml-5'>\r\n\t\t\t\t\t{this.state.newActivityDialogueButtonText}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default NewActivityDialogue;\r\n","import { format, getWeek, getYear, isSameDay } from 'date-fns';\r\nimport { Activity } from '../../domain/Activity';\r\nimport ActivitySub from './ActivitySub';\r\nimport ActivityAPIService from '../../ports/ActivityAPIService';\r\nimport { Component } from 'react';\r\nimport { eachDayOfWeekForDate } from '../../common/DateUtils';\r\nimport NewActivityDialogue from './NewActivityDialogue';\r\nimport Calendar from 'react-calendar';\r\n\r\ninterface ActivitiesComponentStates {\r\n\tcurrentDate: Date;\r\n\tactivities: Activity[];\r\n\tcalendarVisible: boolean;\r\n}\r\n\r\nclass Activities extends Component<{}, ActivitiesComponentStates> {\r\n\tconstructor(props: {}) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\tactivities: [],\r\n\t\t\tcalendarVisible: false\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updateActivitiesInState();\r\n\t}\r\n\r\n\tprivate updateActivitiesInState() {\r\n\t\tconst eachDayOfWeekCurrent = eachDayOfWeekForDate(\r\n\t\t\tthis.state.currentDate\r\n\t\t);\r\n\r\n\t\tActivityAPIService.getAllActivitiesForUserBetweenDates(\r\n\t\t\teachDayOfWeekCurrent[0],\r\n\t\t\teachDayOfWeekCurrent[eachDayOfWeekCurrent.length - 1]\r\n\t\t).then((activities) => {\r\n\t\t\tthis.setState({ activities: activities });\r\n\t\t});\r\n\t}\r\n\r\n\tprivate createDayClustersForActivitiesInWeekForStateCurrentDate() {\r\n\t\treturn eachDayOfWeekForDate(this.state.currentDate).map(\r\n\t\t\t(weekDay, index) => {\r\n\t\t\t\t//map each day of the current week\r\n\t\t\t\tconst filtered = this.state.activities.filter(\r\n\t\t\t\t\t//filter if one of the weekDays overlaps with a creationDate in the activity\r\n\t\t\t\t\t(act) => isSameDay(act.creationDate, weekDay)\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (filtered.length > 0) {\r\n\t\t\t\t\t//map each matching one to an ActivitSub component\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName='row'\r\n\t\t\t\t\t\t\tdata-testid='activities_list_day'\r\n\t\t\t\t\t\t\tkey={`week_day_${index.toString()}`}>\r\n\t\t\t\t\t\t\t<p className='subtitle is-6 mt-6'>{`${format(\r\n\t\t\t\t\t\t\t\tfiltered[0].creationDate,\r\n\t\t\t\t\t\t\t\t'MMMM do',\r\n\t\t\t\t\t\t\t\t{ weekStartsOn: 1 }\r\n\t\t\t\t\t\t\t)}`}</p>\r\n\t\t\t\t\t\t\t{filtered.map((activity, index) => (\r\n\t\t\t\t\t\t\t\t<ActivitySub\r\n\t\t\t\t\t\t\t\t\t{...activity}\r\n\t\t\t\t\t\t\t\t\tkey={`batch_no_${index.toString()}`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tprivate changeCurrentDate(newDateSelection: Date | Date[]) {\r\n\t\tif (Array.isArray(newDateSelection)) {\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tthis.setState({ currentDate: newDateSelection });\r\n\t\t\tthis.setState({calendarVisible: false})\r\n\t\t}\r\n\t}\r\n\r\n\tprivate showCalendar(event: React.SyntheticEvent) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tthis.setState({calendarVisible: !this.state.calendarVisible})\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='is-fullpage'>\r\n\t\t\t\t<div className='columns is-centered'>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='column is-two-fifths'\r\n\t\t\t\t\t\tdata-testid='activities_list'>\r\n\t\t\t\t\t\t<p className='title is-1'>\r\n\t\t\t\t\t\t\t{`${getYear(this.state.currentDate)}`}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className='is-flex is-flex-direction-row'>\r\n\t\t\t\t\t\t\t<button className='button is-justify-content-start' onClick={this.showCalendar.bind(this)}>\r\n\t\t\t\t\t\t\t\t{`CW ${getWeek(\r\n\t\t\t\t\t\t\t\tthis.state.currentDate,\r\n\t\t\t\t\t\t\t\t{ weekStartsOn: 1 }\r\n\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<Calendar\r\n\t\t\t\t\t\t\t\tclassName={`ml-6 calendar box is-justify-content-end ${this.state.calendarVisible ? '' : 'is-hidden'}`}\r\n\t\t\t\t\t\t\t\tminDetail='year'\r\n\t\t\t\t\t\t\t\tshowWeekNumbers={true}\r\n\t\t\t\t\t\t\t\tonChange={this.changeCurrentDate.bind(this)}\r\n\t\t\t\t\t\t\t\tvalue={this.state.currentDate}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='rows'>\r\n\t\t\t\t\t\t\t{this.createDayClustersForActivitiesInWeekForStateCurrentDate()}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<NewActivityDialogue\r\n\t\t\t\t\tcurrentDate={this.state.currentDate}\r\n\t\t\t\t\tupdateListFunction={this.updateActivitiesInState.bind(this)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Activities;\r\n","import { differenceInCalendarWeeks, getWeek } from 'date-fns';\r\nimport { Component } from 'react';\r\nimport { Challenge } from '../../domain/Challenge';\r\nimport ActivityIcon from '../ActivityIcon'\r\n\r\nclass ChallengeSub extends Component<Challenge> {\r\n\tprivate getColorCSSClassForChallengeStatus(\r\n\t\tchallengeStatus: string\r\n\t): string {\r\n\t\tswitch (challengeStatus) {\r\n\t\t\tcase 'IN_PROGRESS':\r\n\t\t\t\treturn '';\r\n\t\t\tcase 'SUCCEEDED':\r\n\t\t\t\treturn 'has-background-success-light';\r\n\t\t\tcase 'FAILED':\r\n\t\t\t\treturn 'has-background-danger-light';\r\n\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'has-background-danger-dark';\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='field row'>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`box is-grouped level ${this.getColorCSSClassForChallengeStatus(\r\n\t\t\t\t\t\tthis.props.challengeStatus.statusText\r\n\t\t\t\t\t)}`}\r\n\t\t\t\t\tdata-testid='challenge'>\r\n\t\t\t\t\t<div className='level-left'>\r\n\t\t\t\t\t\t<ActivityIcon {...this.props.activityType} />\r\n\t\t\t\t\t\t<p className='title is-5 ml-3'>\r\n\t\t\t\t\t\t\t{this.props.activityType.typeDescription}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='level-right level-item'>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className='subtitle is-6'>\r\n\t\t\t\t\t\t\t\t{this.props.timesAWeekCurrent}/\r\n\t\t\t\t\t\t\t\t{differenceInCalendarWeeks(\r\n\t\t\t\t\t\t\t\t\tthis.props.expirationDate,\r\n\t\t\t\t\t\t\t\t\tthis.props.startDate,\r\n\t\t\t\t\t\t\t\t\t{ weekStartsOn: 1 }\r\n\t\t\t\t\t\t\t\t) * this.props.timesAWeekGoal}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='subtitle is-6'>\r\n\t\t\t\t\t\t\t\tUntil CW\r\n\t\t\t\t\t\t\t\t{getWeek(this.props.expirationDate, {\r\n\t\t\t\t\t\t\t\t\tweekStartsOn: 1,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ChallengeSub;\r\n","export interface ChallengeStatus {\r\n\treadonly statusText: string;\r\n\treadonly statusDescription: string;\r\n}\r\n\r\nexport const ChallengeStatuses: { readonly [key: string]: ChallengeStatus } = {\r\n\tIN_PROGRESS: {\r\n\t\tstatusText: 'IN_PROGRESS',\r\n\t\tstatusDescription: 'In Progress'\r\n\t},\r\n\tSUCCEEDED: {\r\n\t\tstatusText: 'SUCCEEDED',\r\n\t\tstatusDescription: 'Succeeded'\r\n\t},\r\n\tFAILED: {\r\n\t\tstatusText: 'FAILED',\r\n\t\tstatusDescription: 'Failed'\r\n\t},\r\n};\r\n","import { ChallengeStatus, ChallengeStatuses } from \"./ChallengeStatus\";\r\nimport { ActivityType, ActivityTypes } from \"./ActivityType\";\r\n\r\nexport interface Challenge {\r\n\treadonly id: string;\r\n\treadonly activityType: ActivityType;\r\n\treadonly timesAWeekGoal: number;\r\n\treadonly timesAWeekCurrent: number;\r\n\treadonly startDate: Date;\r\n\treadonly expirationDate: Date;\r\n\treadonly challengeStatus: ChallengeStatus;\r\n\treadonly userID: string;\r\n}\r\n\r\nexport interface ChallengeResponse {\r\n\treadonly id: string;\r\n\treadonly activityType: string;\r\n\treadonly timesAWeekGoal: string;\r\n\treadonly timesAWeekCurrent: string;\r\n\treadonly startDate: string;\r\n\treadonly expirationDate: string;\r\n\treadonly challengeStatus: string;\r\n\treadonly userID: string;\r\n}\r\n\r\nexport function challengeFromChallengeResponseObject(challengeResponse: ChallengeResponse): Challenge {\r\n\treturn {\r\n\t\tid: challengeResponse.id,\r\n\t\tactivityType: ActivityTypes[challengeResponse.activityType],\r\n\t\ttimesAWeekGoal: Number(challengeResponse.timesAWeekGoal),\r\n\t\ttimesAWeekCurrent: Number(challengeResponse.timesAWeekCurrent),\r\n\t\tstartDate: new Date(challengeResponse.startDate),\r\n\t\texpirationDate: new Date(challengeResponse.expirationDate),\r\n\t\tchallengeStatus: ChallengeStatuses[challengeResponse.challengeStatus],\r\n\t\tuserID: challengeResponse.userID\r\n\t} as Challenge\r\n}\r\n","import HttpClient from './HttpClient';\r\nimport {\r\n\tChallenge,\r\n\tchallengeFromChallengeResponseObject,\r\n\tChallengeResponse,\r\n} from '../domain/Challenge';\r\nimport { dateToYMD } from '../common/DateUtils';\r\n\r\nclass ChallengeAPIService {\r\n\tpublic async getAllChallengesForUserBetweenDates(\r\n\t\tstartDate: Date,\r\n\t\tendDate: Date\r\n\t): Promise<Challenge[]> {\r\n\t\ttry {\r\n\t\t\tconst response = await HttpClient.get(\r\n\t\t\t\t`/challenges?startDate=${dateToYMD(\r\n\t\t\t\t\tstartDate\r\n\t\t\t\t)}&endDate=${dateToYMD(endDate)}`\r\n\t\t\t);\r\n\r\n\t\t\tconst receivedChallenges = response.data.map(\r\n\t\t\t\t(challenge: ChallengeResponse) =>\r\n\t\t\t\t\tchallengeFromChallengeResponseObject(challenge)\r\n\t\t\t);\r\n\r\n\t\t\treturn Promise.resolve(receivedChallenges);\r\n\t\t} catch (err) {\r\n\t\t\treturn Promise.reject(err);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async saveNewChallengeForUser(\r\n\t\tactivityType: string,\r\n\t\ttimesAWeekGoal: number,\r\n\t\tdurationInWeeks: number\r\n\t): Promise<Challenge> {\r\n\t\ttry {\r\n\t\t\tconst response = await HttpClient.post('/challenges', true, {\r\n\t\t\t\tactivityTypeText: activityType,\r\n\t\t\t\ttimesAWeekGoal: timesAWeekGoal,\r\n\t\t\t\tweeksDuration: durationInWeeks,\r\n\t\t\t});\r\n\r\n\t\t\tconst challenge = challengeFromChallengeResponseObject(\r\n\t\t\t\tresponse.data as ChallengeResponse\r\n\t\t\t);\r\n\r\n\t\t\treturn Promise.resolve(challenge);\r\n\t\t} catch (err) {\r\n\t\t\treturn Promise.reject(err);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default new ChallengeAPIService();\r\n","import React, { Component } from 'react';\r\nimport ActivityTypes from '../../domain/ActivityType';\r\nimport { isBasicStateValueValid } from '../../common/ValueUtils';\r\nimport ChallengeAPIService from '../../ports/ChallengeAPIService';\r\n\r\ninterface NewChallengeDialogueProps {\r\n\tupdateListFunction: () => void;\r\n}\r\n\r\ninterface NewChallengeCreationValues {\r\n\tactivityType: string;\r\n\tweeklyGoal: number;\r\n\tamountOfWeeks: number;\r\n}\r\n\r\ninterface NewChallengeDialogueStates {\r\n\tcurrentNewChallengeFormSelections: NewChallengeCreationValues;\r\n\tnewChallengeDialogueButtonText: string;\r\n\tnewChallengeDialogueVisible: boolean;\r\n}\r\n\r\nclass NewChallengeDialogue extends Component<\r\n\tNewChallengeDialogueProps,\r\n\tNewChallengeDialogueStates\r\n> {\r\n\tstate = {\r\n\t\tcurrentNewChallengeFormSelections: {\r\n\t\t\tactivityType: '',\r\n\t\t\tweeklyGoal: 0,\r\n\t\t\tamountOfWeeks: 0,\r\n\t\t},\r\n\t\tnewChallengeDialogueButtonText: '+',\r\n\t\tnewChallengeDialogueVisible: false,\r\n\t};\r\n\r\n\tprivate handleNewChallengeActivityTypeChange(\r\n\t\tevent: React.ChangeEvent<HTMLSelectElement>\r\n\t) {\r\n\t\tthis.setState({\r\n\t\t\tcurrentNewChallengeFormSelections: {\r\n\t\t\t\tactivityType: event.target.value,\r\n\t\t\t\tweeklyGoal: this.state.currentNewChallengeFormSelections\r\n\t\t\t\t\t.weeklyGoal,\r\n\t\t\t\tamountOfWeeks: this.state.currentNewChallengeFormSelections\r\n\t\t\t\t\t.amountOfWeeks,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\tprivate handleNewChallengeWeeklyGoalChange(\r\n\t\tevent: React.FormEvent<HTMLInputElement>\r\n\t) {\r\n\t\tthis.setState({\r\n\t\t\tcurrentNewChallengeFormSelections: {\r\n\t\t\t\tactivityType: this.state.currentNewChallengeFormSelections\r\n\t\t\t\t\t.activityType,\r\n\t\t\t\tweeklyGoal: Number(event.currentTarget.value),\r\n\t\t\t\tamountOfWeeks: this.state.currentNewChallengeFormSelections\r\n\t\t\t\t\t.amountOfWeeks,\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\tprivate handleNewChallengeAmountOfWeeksChange(\r\n\t\tevent: React.FormEvent<HTMLInputElement>\r\n\t) {\r\n\t\tthis.setState({\r\n\t\t\tcurrentNewChallengeFormSelections: {\r\n\t\t\t\tactivityType: this.state.currentNewChallengeFormSelections\r\n\t\t\t\t\t.activityType,\r\n\t\t\t\tweeklyGoal: this.state.currentNewChallengeFormSelections\r\n\t\t\t\t\t.weeklyGoal,\r\n\t\t\t\tamountOfWeeks: Number(event.currentTarget.value),\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tprivate createDropwDownOptionsForNewChallengeActivityTypes() {\r\n\t\tlet returnOptions = [];\r\n\t\tfor (const key in ActivityTypes) {\r\n\t\t\treturnOptions.push(\r\n\t\t\t\t<option\r\n\t\t\t\t\tkey={`new_challenge_activity_type_${ActivityTypes[key].typeText}`}\r\n\t\t\t\t\tvalue={ActivityTypes[key].typeText}>\r\n\t\t\t\t\t{ActivityTypes[key].typeDescription}\r\n\t\t\t\t</option>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn returnOptions;\r\n\t}\r\n\r\n\tprivate async handleSubmitNewChallengeCreationForm(\r\n\t\tevent: React.FormEvent<HTMLFormElement>\r\n\t) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif (\r\n\t\t\t!isBasicStateValueValid(\r\n\t\t\t\tthis.state.currentNewChallengeFormSelections.activityType\r\n\t\t\t) ||\r\n\t\t\t!isBasicStateValueValid(\r\n\t\t\t\tthis.state.currentNewChallengeFormSelections.weeklyGoal\r\n\t\t\t) ||\r\n\t\t\t!isBasicStateValueValid(\r\n\t\t\t\tthis.state.currentNewChallengeFormSelections.amountOfWeeks\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tawait ChallengeAPIService.saveNewChallengeForUser(\r\n\t\t\tthis.state.currentNewChallengeFormSelections.activityType,\r\n\t\t\tthis.state.currentNewChallengeFormSelections.weeklyGoal,\r\n\t\t\tthis.state.currentNewChallengeFormSelections.amountOfWeeks\r\n\t\t);\r\n\r\n\t\tthis.props.updateListFunction();\r\n\t}\r\n\r\n\tprivate handleShowNewChallengeDialogueButton(event: React.SyntheticEvent) {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif (this.state.newChallengeDialogueVisible) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnewChallengeDialogueVisible: false,\r\n\t\t\t\tnewChallengeDialogueButtonText: '+',\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnewChallengeDialogueVisible: true,\r\n\t\t\t\tnewChallengeDialogueButtonText: 'x',\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='is-flex is-position-fixed-bottom-right is-justify-content-flex-end is-flex-direction-row'>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`is-align-self-flex-end mb-5 ${\r\n\t\t\t\t\t\tthis.state.newChallengeDialogueVisible\r\n\t\t\t\t\t\t\t? ''\r\n\t\t\t\t\t\t\t: 'is-invisible'\r\n\t\t\t\t\t}`}>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tclassName='box'\r\n\t\t\t\t\t\tonSubmit={this.handleSubmitNewChallengeCreationForm.bind(\r\n\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t)}>\r\n\t\t\t\t\t\t<p className='title is-5'>New Challenge</p>\r\n\r\n\t\t\t\t\t\t<div className='field'>\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tclassName='label'\r\n\t\t\t\t\t\t\t\thtmlFor='new_challenge_activity_type'>\r\n\t\t\t\t\t\t\t\tTarget Activity:\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className='control select'>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tname='new_challenge_activity_type'\r\n\t\t\t\t\t\t\t\t\tdefaultValue='DEFAULT'\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleNewChallengeActivityTypeChange.bind(\r\n\t\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t)}>\r\n\t\t\t\t\t\t\t\t\t<option key='type_DEFAULT' value='DEFAULT'>\r\n\t\t\t\t\t\t\t\t\t\tSelect an Activity Type...\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t{this.createDropwDownOptionsForNewChallengeActivityTypes()}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='field'>\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tclassName='label'\r\n\t\t\t\t\t\t\t\thtmlFor='new_challenge_weekly_goal'>\r\n\t\t\t\t\t\t\t\tWeekly Goal Amount:\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className='control'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclassName='input mt-3'\r\n\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\tmin='1'\r\n\t\t\t\t\t\t\t\t\tmax='21'\r\n\t\t\t\t\t\t\t\t\tname='new_challenge_weekly_goal'\r\n\t\t\t\t\t\t\t\t\tplaceholder='max. 21'\r\n\t\t\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleNewChallengeWeeklyGoalChange.bind(\r\n\t\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t)}></input>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='field'>\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tclassName='label'\r\n\t\t\t\t\t\t\t\thtmlFor='new_challenge_amount_of_weeks'>\r\n\t\t\t\t\t\t\t\tAmount of Weeks:\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className='control'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclassName='input mt-3'\r\n\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\tmin='1'\r\n\t\t\t\t\t\t\t\t\tname='new_challenge_amount_of_weeks'\r\n\t\t\t\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleNewChallengeAmountOfWeeksChange.bind(\r\n\t\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t)}></input>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName='button is-link mt-5'\r\n\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\tvalue='Submit'></input>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='is-align-self-flex-end mb-5 ml-5 mr-5'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={this.handleShowNewChallengeDialogueButton.bind(\r\n\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tclassName='button is-dark is-medium'>\r\n\t\t\t\t\t\t{this.state.newChallengeDialogueButtonText}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default NewChallengeDialogue;\r\n","import { getWeek, isSameWeek } from 'date-fns';\r\nimport { Component } from 'react';\r\nimport { eachCalendarWeekRangeInMonthForDate } from '../../common/DateUtils';\r\nimport { Challenge } from '../../domain/Challenge';\r\nimport ChallengeSub from './ChallengesSub';\r\nimport NewChallengeDialogue from './NewChallengeDialogue';\r\nimport ChallengeAPIService from '../../ports/ChallengeAPIService';\r\n\r\ninterface ChallengesComponentStates {\r\n\tcurrentDate: Date;\r\n\tcoveredCalendarWeeks: number[];\r\n\tchallenges: Challenge[];\r\n}\r\n\r\nclass Challenges extends Component<{}, ChallengesComponentStates> {\r\n\tconstructor(props: {}) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcurrentDate: new Date(),\r\n\t\t\tcoveredCalendarWeeks: [],\r\n\t\t\tchallenges: [],\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updateChallengesInState();\r\n\t}\r\n\r\n\tprivate updateChallengesInState() {\r\n\t\tconst currentMonthsWeekStartsAndEnds = eachCalendarWeekRangeInMonthForDate(\r\n\t\t\tthis.state.currentDate\r\n\t\t);\r\n\r\n\t\tChallengeAPIService.getAllChallengesForUserBetweenDates(\r\n\t\t\tcurrentMonthsWeekStartsAndEnds[0].startingOfWeek,\r\n\t\t\tcurrentMonthsWeekStartsAndEnds[\r\n\t\t\t\tcurrentMonthsWeekStartsAndEnds.length - 1\r\n\t\t\t].endingOfWeek\r\n\t\t).then((challenges) => {\r\n\t\t\tthis.setState({ challenges: challenges });\r\n\t\t});\r\n\t}\r\n\r\n\tprivate createStartWeekClustersForChallengesInMonthForStateCurrentDate() {\r\n\t\treturn eachCalendarWeekRangeInMonthForDate(this.state.currentDate).map(\r\n\t\t\t(calendarWeekObject) => {\r\n\t\t\t\tconst filtered = this.state.challenges.filter((challenge) =>\r\n\t\t\t\t\tisSameWeek(\r\n\t\t\t\t\t\tchallenge.startDate,\r\n\t\t\t\t\t\tcalendarWeekObject.startingOfWeek,\r\n\t\t\t\t\t\t{ weekStartsOn: 1 }\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (filtered.length > 0) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName='row'\r\n\t\t\t\t\t\t\tdata-testid='challenges_list_week'\r\n\t\t\t\t\t\t\tkey={`calendar_week_${calendarWeekObject.calendarWeek.toString()}`}>\r\n\t\t\t\t\t\t\t<p className='subtitle is-6 mt-6'>{`Started in CW ${getWeek(\r\n\t\t\t\t\t\t\t\tfiltered[0].startDate,\r\n\t\t\t\t\t\t\t\t{ weekStartsOn: 1 }\r\n\t\t\t\t\t\t\t)}`}</p>\r\n\t\t\t\t\t\t\t{filtered.map((challenge, index) => (\r\n\t\t\t\t\t\t\t\t<ChallengeSub\r\n\t\t\t\t\t\t\t\t\t{...challenge}\r\n\t\t\t\t\t\t\t\t\tkey={`batch_no_${index.toString()}`}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='is-fullpage'>\r\n\t\t\t\t<div className='columns is-centered'>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='column is-two-fifths'\r\n\t\t\t\t\t\tdata-testid='challenges_list'>\r\n\t\t\t\t\t\t<div className='level'>\r\n\t\t\t\t\t\t\t<p className='title is-1 level-left'>\r\n\t\t\t\t\t\t\t\t{this.state.currentDate.getFullYear()}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<button className='button level-right'>\r\n\t\t\t\t\t\t\t\tFilter\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='rows'>\r\n\t\t\t\t\t\t\t{this.createStartWeekClustersForChallengesInMonthForStateCurrentDate()}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<NewChallengeDialogue updateListFunction={this.updateChallengesInState.bind(this)} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Challenges;\r\n","import { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass Logout extends Component {\r\n\tprivate logoutAccount() {\r\n\t\tlocalStorage.removeItem('accessToken');\r\n\r\n        return <Redirect to='/login'></Redirect>\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='loader'>\r\n\t\t\t\t{this.logoutAccount()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Logout;\r\n","import './App.sass';\nimport PrivateRoute from './PrivateRoute';\nimport PublicRoute from './PublicRoute';\nimport Register from './ui/Register';\nimport Login from './ui/Login';\nimport Activities from './ui/Activities/Activities';\nimport Challenges from './ui/Challenges/Challenges';\nimport Logout from './ui/Logout';\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\n\nfunction App() {\n\treturn (\n\t\t<Router>\n\t\t\t<div id='toast-container' />\n\t\t\t<Switch>\n\t\t\t\t<PublicRoute exact path='/register' component={Register} />\n\t\t\t\t<PublicRoute exact path='/login' component={Login} />\n\n\t\t\t\t<PrivateRoute exact path='/' component={Activities} />\n\t\t\t\t<PrivateRoute exact path='/challenges' component={Challenges} />\n\t\t\t\t<PrivateRoute exact path='/logout' component={Logout} />\n\t\t\t</Switch>\n\t\t</Router>\n\t);\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}