(this["webpackJsonphelth-fe"]=this["webpackJsonphelth-fe"]||[]).push([[0],{52:function(e,t,a){},53:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),s=a(41),i=a.n(s),c=(a(52),a(53),a(13)),l=a(6),o=a(7),u=a(11),h=a(10),d=a(9),p=a(84);function b(){var e=localStorage.getItem("accessToken");if(void 0===e||null==e)return!1;var t=e.split("."),a=JSON.parse(atob(t[1]));return!Object(p.a)(new Date,new Date(a.exp.date.year,a.exp.date.month,a.exp.date.day,a.exp.time.hour,a.exp.time.minute))||(localStorage.removeItem("accessToken"),!1)}var j=a(17),v=a(2),m=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"navbar-item has-dropdown is-hoverable",children:[Object(v.jsx)("a",{className:"navbar-link",href:"#/",children:"Menu"}),Object(v.jsxs)("div",{className:"navbar-dropdown",children:[Object(v.jsx)(j.b,{to:"/",className:"navbar-item",children:"Activities"}),Object(v.jsx)(j.b,{to:"/challenges",className:"navbar-item",children:"Challenges"}),Object(v.jsx)(j.b,{to:"/",className:"navbar-item is-hidden",children:"Account"}),Object(v.jsx)("hr",{className:"navbar-divider"}),Object(v.jsx)(j.b,{to:"/logout",className:"navbar-item",children:"Logout"})]})]})}}]),a}(n.Component),O=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsx)("nav",{className:"navbar",role:"navigation",children:Object(v.jsx)("div",{className:"navbar-brand",children:Object(v.jsx)(m,{})})})}}]),a}(n.Component),y=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).authPath="/login",e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;if(b())return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(O,{}),Object(v.jsx)(d.b,Object(c.a)({},this.props))]});return Object(v.jsx)(d.b,Object(c.a)(Object(c.a)({},this.props),{},{component:function(){return Object(v.jsx)(d.a,{to:e.authPath})}}))}}]),a}(d.b),g=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).homePath="/",e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;if(b()){return Object(v.jsx)(d.b,Object(c.a)(Object(c.a)({},this.props),{},{component:function(){return Object(v.jsx)(d.a,{to:e.homePath})}}))}return Object(v.jsx)(d.b,Object(c.a)({},this.props))}}]),a}(d.b),f=a(23),x=a(12),w=a.n(x),N=a(15),k=a(31),D=a.n(k),C=new(function(){function e(){Object(l.a)(this,e),this.apiClient=D.a.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"},responseType:"json"})}return Object(o.a)(e,[{key:"get",value:function(){var e=Object(N.a)(w.a.mark((function e(t){var a,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.path,n=t.authorized,r=void 0===n||n,e.prev=1,e.next=4,this.apiClient.get(a,r?{headers:this.getAuthHeaderFromStorage()}:{});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",this.handleError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(N.a)(w.a.mark((function e(t){var a,n,r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.path,n=t.authorized,r=void 0===n||n,s=t.body,e.prev=1,e.next=4,this.apiClient.post(a,s,r?{headers:this.getAuthHeaderFromStorage()}:{});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",this.handleError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.path,e.prev=1,e.next=4,this.apiClient.delete(a,{headers:this.getAuthHeaderFromStorage()});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",this.handleError(e.t0));case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){if(D.a.isAxiosError(e)){var t=e;console.error(t.response)}else console.error(e);return Promise.reject(e)}},{key:"getAuthHeaderFromStorage",value:function(){var e=localStorage.getItem("accessToken");if(void 0===e||null==e)throw new Error("No Auth header found in localStorage");return{Authorization:"Bearer "+e}}}]),e}());var S=new(function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"registerUser",value:function(){var e=Object(N.a)(w.a.mark((function e(t,a){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.post({path:"/users",authorized:!1,body:{username:t,password:a}}).then((function(e){return{id:(t=e.data).id,username:t.username,score:t.score,creationDate:new Date(t.creationDate)};var t}));case 3:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"loginUser",value:function(){var e=Object(N.a)(w.a.mark((function e(t,a){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.post({path:"/tokens",authorized:!1,body:{username:t,password:a}});case 3:return n=e.sent,r=n.data.token,localStorage.setItem("accessToken",r),e.abrupt("return",Promise.resolve(n.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()),_=function(e){return function(t){var a=Object(d.g)();return Object(v.jsx)(e,Object(c.a)({history:a},t))}},A=a(43);a(82);function F(e,t){A.toast({message:e,type:t,animate:{in:"fadeIn",out:"fadeOut"},position:"top-right",duration:4e3})}var T=_(function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e}return Object(o.a)(a,[{key:"changeHandler",value:function(e){this.setState(Object(f.a)({},e.currentTarget.name,e.currentTarget.value))}},{key:"submitHandler",value:function(e){var t=this;e.preventDefault(),S.registerUser(this.state.username,this.state.password).then((function(e){void 0!==e&&void 0!==e.id&&(F("Successfully Registered","is-success"),t.props.history.push("/login"))}))}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"hero is-fullpage is-clipped",children:Object(v.jsx)("div",{className:"hero-body columns is-vcentered is-centered",children:Object(v.jsx)("div",{className:"column is-one-quarter",children:Object(v.jsxs)("form",{className:"box",onSubmit:this.submitHandler.bind(this),children:[Object(v.jsx)("p",{className:"title is-4",children:"Register"}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",htmlFor:"username",children:"Username:"}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("input",{className:"input",type:"text",name:"username",onChange:this.changeHandler.bind(this),minLength:4,required:!0})})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",htmlFor:"password",children:"Password:"}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("input",{className:"input",type:"password",name:"password",placeholder:"min. 8 characters",onChange:this.changeHandler.bind(this),minLength:8,required:!0})}),Object(v.jsxs)("div",{className:"level",children:[Object(v.jsx)("div",{className:"level-left",children:Object(v.jsx)("p",{className:"subtitle is-6 mt-5",children:Object(v.jsx)(j.b,{to:"/login",children:"Already have an Account? Login!"})})}),Object(v.jsx)("input",{className:"level-right button is-link mt-5",type:"submit",value:"Submit"})]})]})]})})})})}}]),a}(r.a.Component)),I=_(function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e}return Object(o.a)(a,[{key:"changeHandler",value:function(e){this.setState(Object(f.a)({},e.currentTarget.name,e.currentTarget.value))}},{key:"submitHandler",value:function(e){var t=this;e.preventDefault(),S.loginUser(this.state.username,this.state.password).then((function(e){void 0!==e&&(console.log(e),""!==e.token&&(F("Successfully Logged in","is-success"),t.props.history.push("/")))}))}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"hero is-fullpage is-clipped",children:Object(v.jsx)("div",{className:"hero-body columns is-vcentered is-centered",children:Object(v.jsx)("div",{className:"column is-one-quarter",children:Object(v.jsxs)("form",{className:"box",onSubmit:this.submitHandler.bind(this),children:[Object(v.jsx)("p",{className:"title is-4",children:"Login"}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",htmlFor:"username",children:"Username:"}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("input",{className:"input",type:"text",name:"username",onChange:this.changeHandler.bind(this),minLength:4,required:!0})})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",htmlFor:"password",children:"Password:"}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("input",{className:"input",type:"password",name:"password",onChange:this.changeHandler.bind(this),minLength:8,required:!0})})]}),Object(v.jsxs)("div",{className:"level",children:[Object(v.jsx)("div",{className:"level-left",children:Object(v.jsx)("p",{className:"subtitle is-6 mt-5",children:Object(v.jsx)(j.b,{to:"/register",children:"New? Register Here!"})})}),Object(v.jsx)("input",{className:"level-right button is-link mt-5",type:"submit",value:"Submit"})]})]})})})})}}]),a}(n.Component)),W=a(95),E=a(93),L=a(90),P=a(94),G=a(24),U=a(44),B=a(45),R=a(0),V=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"setIconForActivityType",value:function(e){switch(e.typeText){case"DRINK_WATER":return Object(v.jsx)(U.a,{});case"WALKING":return Object(v.jsx)(G.e,{});case"RUNNING":return Object(v.jsx)(G.c,{});case"CYCLING":return Object(v.jsx)(G.a,{});case"SWIMMING":return Object(v.jsx)(G.d,{});case"CALISTHENICS":return Object(v.jsx)(G.b,{});default:return Object(v.jsx)(B.a,{})}}},{key:"render",value:function(){return Object(v.jsx)(R.b.Provider,{value:{className:"icon is-medium mt-2"},children:Object(v.jsx)("div",{"data-testid":"activity_entry_icon",children:this.setIconForActivityType(this.props)})})}}]),a}(n.Component),H=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"field row","data-testid":"activity_entry",children:Object(v.jsxs)("div",{className:"box level is-grouped",children:[Object(v.jsxs)("div",{className:"level-left",children:[Object(v.jsx)(V,Object(c.a)({},this.props.activityType)),Object(v.jsx)("p",{className:"title is-5 ml-3","data-testid":"activity_entry_type",children:this.props.activityType.typeDescriptionPast})]}),Object(v.jsx)("button",{className:"level-right button is-danger",children:"-"})]})})}}]),a}(n.Component),M={DRINK_WATER:{typeText:"DRINK_WATER",typeDescription:"Drink Water",typeDescriptionPast:"Drank Water"},WALKING:{typeText:"WALKING",typeDescription:"Walking",typeDescriptionPast:"Walked"},RUNNING:{typeText:"RUNNING",typeDescription:"Running",typeDescriptionPast:"Ran"},CYCLING:{typeText:"CYCLING",typeDescription:"Cycling",typeDescriptionPast:"Cycled"},SWIMMING:{typeText:"SWIMMING",typeDescription:"Swimming",typeDescriptionPast:"Swam"},CALISTHENICS:{typeText:"CALISTHENICS",typeDescription:"Calisthenics",typeDescriptionPast:"Done Calisthenics"}},q=M;function z(e){return{id:e.id,activityType:M[e.activityType.toString()],creationDate:new Date(e.creationDate.toString()),userID:e.userID}}var K=a(18),Y=a(85),J=a(46),Q=a(86),X=a(87),Z=a(88),$=a(89);function ee(e){var t=e.getDate(),a=e.getMonth()+1;return e.getFullYear()+"-"+(a<=9?"0"+a:a)+"-"+(t<=9?"0"+t:t)}function te(e){for(var t=[],a=Object(K.a)(e,{weekStartsOn:1}),n=Object(Y.a)(e,{weekStartsOn:1}),r=a;r<n;)t.push(r),r=Object(J.a)(r,1);return t}function ae(e){for(var t=Object(Q.a)(e),a=Object(X.a)(e),n=[];Object(Z.a)(t,a);)n.push({calendarWeek:Object(P.a)(t,{weekStartsOn:1}),startingOfWeek:Object(K.a)(t,{weekStartsOn:1}),endingOfWeek:Object(Y.a)(t,{weekStartsOn:1})}),t=Object($.a)(t,1);return n}var ne=new(function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getAllActivitiesForUserBetweenDates",value:function(){var e=Object(N.a)(w.a.mark((function e(t,a){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.get({path:"/activities?startDate=".concat(ee(t),"&endDate=").concat(ee(a))});case 3:return n=e.sent,r=n.data.map((function(e){return z(e)})),e.abrupt("return",Promise.resolve(r));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"saveNewActivityForUser",value:function(){var e=Object(N.a)(w.a.mark((function e(t,a){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.post({path:"/activities",authorized:!0,body:{textType:t,creationDate:ee(a)}});case 3:return n=e.sent,r=z(n.data),e.abrupt("return",Promise.resolve(r));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}());function re(e){return void 0!==e&&(null!==e&&(""!==String(e)&&("DEFAULT"!==String(e)&&("number"!==typeof e||0!==e))))}var se=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={currentNewActivityFormSelection:"",newActivityDialogueButtonText:"+",newActivityDialogueVisible:!1},e}return Object(o.a)(a,[{key:"createDropdownOptionsForActivityTypes",value:function(){var e=[];for(var t in M)e.push(Object(v.jsx)("option",{"data-testid":"activity_add_dialogue_type_dropdown_option",value:M[t].typeText,children:M[t].typeDescription},"type_".concat(M[t].typeText)));return e}},{key:"handleSelectDropDownChange",value:function(e){this.setState({currentNewActivityFormSelection:e.target.value})}},{key:"handleCreateNewActivityButton",value:function(){var e=Object(N.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(this.state.currentNewActivityFormSelection),re(this.state.currentNewActivityFormSelection)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,ne.saveNewActivityForUser(this.state.currentNewActivityFormSelection,this.props.currentDate);case 6:console.log("REACHED",this.props.updateListFunction),this.props.updateListFunction();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleShowNewActivityDialogueButton",value:function(e){e.preventDefault(),this.state.newActivityDialogueVisible?this.setState({newActivityDialogueVisible:!1,newActivityDialogueButtonText:"+"}):this.setState({newActivityDialogueVisible:!0,newActivityDialogueButtonText:"x"})}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"is-flex is-position-fixed-bottom-right is-justify-content-flex-end is-flex-direction-row",children:[Object(v.jsx)("div",{"data-testid":"activity_add_flexparent",className:"is-align-self-flex-end mb-5 ".concat(this.state.newActivityDialogueVisible?"":"is-invisible"),children:Object(v.jsxs)("form",{className:"box","data-testid":"activity_add_dialogue",onSubmit:this.handleCreateNewActivityButton.bind(this),children:[Object(v.jsx)("p",{className:"title is-5",children:"New Activity"}),Object(v.jsx)("div",{className:"control select",children:Object(v.jsxs)("select",{name:"activity_type","data-testid":"activity_add_dialogue_type_dropdown",onChange:this.handleSelectDropDownChange.bind(this),defaultValue:"DEFAULT",children:[Object(v.jsx)("option",{"data-testid":"activity_add_dialogue_type_dropdown_option",value:"DEFAULT",children:"Select an activity type..."},"type_DEFAULT"),this.createDropdownOptionsForActivityTypes()]})}),Object(v.jsx)("input",{className:"button is-link","data-testid":"activity_add_dialogue_submit_button",type:"submit",value:"Submit"})]})}),Object(v.jsx)("button",{onClick:this.handleShowNewActivityDialogueButton.bind(this),"data-testid":"activity_add_button",className:"button is-dark is-medium is-align-self-flex-end mb-5 mr-5 ml-5",children:this.state.newActivityDialogueButtonText})]})}}]),a}(n.Component),ie=a(47),ce=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={currentDate:new Date,activities:[],calendarVisible:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.updateActivitiesInState()}},{key:"updateActivitiesInState",value:function(){var e=this,t=te(this.state.currentDate);ne.getAllActivitiesForUserBetweenDates(t[0],t[t.length-1]).then((function(t){e.setState({activities:t})}))}},{key:"createDayClustersForActivitiesInWeekForStateCurrentDate",value:function(){var e=this;return te(this.state.currentDate).map((function(t,a){var r=e.state.activities.filter((function(e){return Object(W.a)(e.creationDate,t)}));return r.length>0?Object(v.jsxs)("div",{className:"row","data-testid":"activities_list_day",children:[Object(v.jsx)("p",{className:"subtitle is-6 mt-6",children:"".concat(Object(E.a)(r[0].creationDate,"MMMM do",{weekStartsOn:1}))}),r.map((function(e,t){return Object(n.createElement)(H,Object(c.a)(Object(c.a)({},e),{},{key:"batch_no_".concat(t.toString())}))}))]},"week_day_".concat(a.toString())):null}))}},{key:"changeCurrentDate",value:function(e){Array.isArray(e)?(this.setState({currentDate:e[0]}),this.setState({calendarVisible:!1})):(this.setState({currentDate:e}),this.setState({calendarVisible:!1}))}},{key:"toggleCalendarVisibility",value:function(e){e.preventDefault(),this.setState({calendarVisible:!this.state.calendarVisible})}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"is-fullpage",children:[Object(v.jsx)("div",{className:"columns is-centered",children:Object(v.jsxs)("div",{className:"column is-two-fifths","data-testid":"activities_list",children:[Object(v.jsx)("p",{className:"title is-1",children:"".concat(Object(L.a)(this.state.currentDate))}),Object(v.jsxs)("div",{className:"is-flex is-flex-direction-row",children:[Object(v.jsx)("button",{className:"button is-justify-content-start",onClick:this.toggleCalendarVisibility.bind(this),children:"CW ".concat(Object(P.a)(this.state.currentDate,{weekStartsOn:1}))}),Object(v.jsx)(ie.a,{className:"ml-6 calendar box is-justify-content-end ".concat(this.state.calendarVisible?"":"is-hidden"),minDetail:"year",showWeekNumbers:!0,onChange:this.changeCurrentDate.bind(this),value:this.state.currentDate})]}),Object(v.jsx)("div",{className:"rows",children:this.createDayClustersForActivitiesInWeekForStateCurrentDate()})]})}),Object(v.jsx)(se,{currentDate:this.state.currentDate,updateListFunction:this.updateActivitiesInState.bind(this)})]})}}]),a}(n.Component),le=a(92),oe=a(91),ue=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getColorCSSClassForChallengeStatus",value:function(){try{switch(this.props.challengeStatus.statusText){case"SUCCEEDED":return"has-background-success-light";case"FAILED":return"has-background-danger-light";default:return""}}catch(e){return"has-background-danger-dark"}}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"field row",children:Object(v.jsxs)("div",{className:"box is-grouped level ".concat(this.getColorCSSClassForChallengeStatus()),"data-testid":"challenge_entry",children:[Object(v.jsxs)("div",{className:"level-left",children:[Object(v.jsx)(V,Object(c.a)({},this.props.activityType)),Object(v.jsx)("p",{className:"title is-5 ml-3","data-testid":"challenge_entry_activity_type",children:this.props.activityType.typeDescription})]}),Object(v.jsx)("div",{className:"level-right level-item",children:Object(v.jsxs)("div",{children:[Object(v.jsxs)("p",{className:"subtitle is-6",children:[this.props.timesAWeekCurrent,"/",Object(oe.a)(this.props.expirationDate,this.props.startDate,{weekStartsOn:1})*this.props.timesAWeekGoal]}),Object(v.jsxs)("p",{className:"subtitle is-6",children:["Until CW",Object(P.a)(this.props.expirationDate,{weekStartsOn:1})]})]})})]})})}}]),a}(n.Component),he={IN_PROGRESS:{statusText:"IN_PROGRESS",statusDescription:"In Progress"},SUCCEEDED:{statusText:"SUCCEEDED",statusDescription:"Succeeded"},FAILED:{statusText:"FAILED",statusDescription:"Failed"}};function de(e){return{id:e.id,activityType:M[e.activityType],timesAWeekGoal:Number(e.timesAWeekGoal),timesAWeekCurrent:Number(e.timesAWeekCurrent),startDate:new Date(e.startDate),expirationDate:new Date(e.expirationDate),challengeStatus:he[e.challengeStatus],userID:e.userID}}var pe=new(function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,[{key:"getAllChallengesForUserBetweenDates",value:function(){var e=Object(N.a)(w.a.mark((function e(t,a){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.get({path:"/challenges?startDate=".concat(ee(t),"&endDate=").concat(ee(a))});case 3:return n=e.sent,r=n.data.map((function(e){return de(e)})),e.abrupt("return",Promise.resolve(r));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"saveNewChallengeForUser",value:function(){var e=Object(N.a)(w.a.mark((function e(t,a,n){var r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.post({path:"/challenges",authorized:!0,body:{activityTypeText:t,timesAWeekGoal:a,weeksDuration:n}});case 3:return r=e.sent,s=de(r.data),e.abrupt("return",Promise.resolve(s));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}()),be=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={currentNewChallengeFormSelections:{activityType:"",weeklyGoal:0,amountOfWeeks:0},newChallengeDialogueButtonText:"+",newChallengeDialogueVisible:!1},e}return Object(o.a)(a,[{key:"handleNewChallengeActivityTypeChange",value:function(e){this.setState({currentNewChallengeFormSelections:{activityType:e.target.value,weeklyGoal:this.state.currentNewChallengeFormSelections.weeklyGoal,amountOfWeeks:this.state.currentNewChallengeFormSelections.amountOfWeeks}})}},{key:"handleNewChallengeWeeklyGoalChange",value:function(e){this.setState({currentNewChallengeFormSelections:{activityType:this.state.currentNewChallengeFormSelections.activityType,weeklyGoal:Number(e.currentTarget.value),amountOfWeeks:this.state.currentNewChallengeFormSelections.amountOfWeeks}})}},{key:"handleNewChallengeAmountOfWeeksChange",value:function(e){this.setState({currentNewChallengeFormSelections:{activityType:this.state.currentNewChallengeFormSelections.activityType,weeklyGoal:this.state.currentNewChallengeFormSelections.weeklyGoal,amountOfWeeks:Number(e.currentTarget.value)}})}},{key:"createDropwDownOptionsForNewChallengeActivityTypes",value:function(){var e=[];for(var t in q)e.push(Object(v.jsx)("option",{value:q[t].typeText,"data-testid":"challenge_add_dialogue_type_dropdown_option",children:q[t].typeDescription},"new_challenge_activity_type_".concat(q[t].typeText)));return e}},{key:"handleSubmitNewChallengeCreationForm",value:function(){var e=Object(N.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),re(this.state.currentNewChallengeFormSelections.activityType)&&re(this.state.currentNewChallengeFormSelections.weeklyGoal)&&re(this.state.currentNewChallengeFormSelections.amountOfWeeks)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,pe.saveNewChallengeForUser(this.state.currentNewChallengeFormSelections.activityType,this.state.currentNewChallengeFormSelections.weeklyGoal,this.state.currentNewChallengeFormSelections.amountOfWeeks);case 5:this.props.updateListFunction();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleShowNewChallengeDialogueButton",value:function(e){e.preventDefault(),this.state.newChallengeDialogueVisible?this.setState({newChallengeDialogueVisible:!1,newChallengeDialogueButtonText:"+"}):this.setState({newChallengeDialogueVisible:!0,newChallengeDialogueButtonText:"x"})}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"is-flex is-position-fixed-bottom-right is-justify-content-flex-end is-flex-direction-row",children:[Object(v.jsx)("div",{className:"is-align-self-flex-end mb-5 ".concat(this.state.newChallengeDialogueVisible?"":"is-invisible"),children:Object(v.jsxs)("form",{className:"box",onSubmit:this.handleSubmitNewChallengeCreationForm.bind(this),"data-testid":"challenge_add_dialogue",children:[Object(v.jsx)("p",{className:"title is-5",children:"New Challenge"}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",htmlFor:"new_challenge_activity_type",children:"Target Activity:"}),Object(v.jsx)("div",{className:"control select",children:Object(v.jsxs)("select",{name:"new_challenge_activity_type",defaultValue:"DEFAULT",onChange:this.handleNewChallengeActivityTypeChange.bind(this),"data-testid":"challenge_add_dialogue_type_dropdown",children:[Object(v.jsx)("option",{value:"DEFAULT","data-testid":"challenge_add_dialogue_type_dropdown_option",children:"Select an Activity Type..."},"type_DEFAULT"),this.createDropwDownOptionsForNewChallengeActivityTypes()]})})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",htmlFor:"new_challenge_weekly_goal",children:"Weekly Goal Amount:"}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("input",{className:"input mt-3",type:"number",min:"1",max:"21",name:"new_challenge_weekly_goal",placeholder:"max. 21",required:!0,"data-testid":"challenge_add_dialogue_weely_goal",onChange:this.handleNewChallengeWeeklyGoalChange.bind(this)})})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("label",{className:"label",htmlFor:"new_challenge_amount_of_weeks",children:"Amount of Weeks:"}),Object(v.jsx)("div",{className:"control",children:Object(v.jsx)("input",{className:"input mt-3",type:"number",min:"1",name:"new_challenge_amount_of_weeks",required:!0,onChange:this.handleNewChallengeAmountOfWeeksChange.bind(this)})})]}),Object(v.jsx)("input",{className:"button is-link mt-5",type:"submit",value:"Submit"})]})}),Object(v.jsx)("div",{className:"is-align-self-flex-end mb-5 ml-5 mr-5",children:Object(v.jsx)("button",{onClick:this.handleShowNewChallengeDialogueButton.bind(this),className:"button is-dark is-medium","data-testid":"challenge_add_button",children:this.state.newChallengeDialogueButtonText})})]})}}]),a}(n.Component),je=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={currentDate:new Date,coveredCalendarWeeks:[],challenges:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.currentDate&&this.setState({currentDate:this.props.currentDate}),this.updateChallengesInState()}},{key:"updateChallengesInState",value:function(){var e=this,t=ae(this.state.currentDate);pe.getAllChallengesForUserBetweenDates(t[0].startingOfWeek,t[t.length-1].endingOfWeek).then((function(t){e.setState({challenges:t})}))}},{key:"createStartWeekClustersForChallengesInMonthForStateCurrentDate",value:function(){var e=this;return ae(this.state.currentDate).map((function(t){var a=e.state.challenges.filter((function(e){return Object(le.a)(e.startDate,t.startingOfWeek,{weekStartsOn:1})}));return a.length>0?Object(v.jsxs)("div",{className:"row","data-testid":"challenges_list_week",children:[Object(v.jsx)("p",{className:"subtitle is-6 mt-6",children:"Started in CW ".concat(Object(P.a)(a[0].startDate,{weekStartsOn:1}))}),a.map((function(e,t){return Object(n.createElement)(ue,Object(c.a)(Object(c.a)({},e),{},{key:"batch_no_".concat(t.toString())}))}))]},"calendar_week_".concat(t.calendarWeek.toString())):null}))}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"is-fullpage",children:[Object(v.jsx)("div",{className:"columns is-centered",children:Object(v.jsxs)("div",{className:"column is-two-fifths","data-testid":"challenges_list",children:[Object(v.jsxs)("div",{className:"level",children:[Object(v.jsx)("p",{className:"title is-1 level-left",children:this.state.currentDate.getFullYear()}),Object(v.jsx)("button",{className:"button level-right",children:"Filter"})]}),Object(v.jsx)("div",{className:"rows",children:this.createStartWeekClustersForChallengesInMonthForStateCurrentDate()})]})}),Object(v.jsx)(be,{updateListFunction:this.updateChallengesInState.bind(this)})]})}}]),a}(n.Component),ve=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"logoutAccount",value:function(){return localStorage.removeItem("accessToken"),Object(v.jsx)(d.a,{to:"/login"})}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"loader",children:this.logoutAccount()})}}]),a}(n.Component);var me=function(){return Object(v.jsxs)(j.a,{basename:"/helth-fe",children:[Object(v.jsx)("div",{id:"toast-container"}),Object(v.jsxs)(d.d,{children:[Object(v.jsx)(g,{exact:!0,path:"/register",component:T}),Object(v.jsx)(g,{exact:!0,path:"/login",component:I}),Object(v.jsx)(y,{exact:!0,path:"/",component:ce}),Object(v.jsx)(y,{exact:!0,path:"/challenges",component:je}),Object(v.jsx)(y,{exact:!0,path:"/logout",component:ve})]})]})},Oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,96)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))};i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(me,{})}),document.getElementById("root")),Oe()}},[[83,1,2]]]);
//# sourceMappingURL=main.1e19ead9.chunk.js.map